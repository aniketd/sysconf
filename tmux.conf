# Plugins should come before any overriding configurations
set -g @tpm_plugins '               \
    tmux-plugins/tpm                \
    tmux-plugins/tmux-sensible      \
    tmux-plugins/tmux-yank          \
    tmux-plugins/tmux-copycat       \
    tmux-plugins/tmux-pain-control  \
'

# Most important!
set -g default-terminal "screen-256color"
set-option -g default-shell "/usr/bin/fish"

# Faster key sequences
set -sg escape-time 0

# Automatically set window title
set-window-option -g automatic-rename on
set-option -g set-titles on

# VI style navigation bindings
set-window-option -g mode-keys vi
set -g status-keys vi
setw -g mode-keys vi

# History should be eternal
set -g history-limit 10000

# Mouse support
#set -g mode-mouse on

# Monitor activity
set -g monitor-activity on

# `=` is shortcut for toggling sync-panes
bind = set -g synchronize-panes

# change the prefix from C-b to ``
#unbind-key C-b
#set-option -g prefix 'C-\'
#bind-key 'C-\' send-prefix

# this is to use C-b C-b to send the prefix itself to the console.

########################################################################################
# --- colors (solarized dark)                                      
# default statusbar colors                                         
set -g status-bg black
set -g status-fg yellow                                            
set -g status-attr default
                                                                   
# default window title colors                                      
setw -g window-status-fg brightblue                                
setw -g window-status-bg default                                   
                                                                   
# active window title colors                                       
setw -g window-status-current-fg yellow                            
setw -g window-status-current-bg default                           
setw -g window-status-current-attr dim                             
                                                                   
# pane border                                                      
set -g pane-border-fg black                                        
set -g pane-border-bg default                                      
set -g pane-active-border-fg yellow                                
set -g pane-active-border-bg default                               
                                                                   
# command line/message text                                        
set -g message-bg black                                            
set -g message-fg yellow                                           
                                                                   
# pane number display                                              
set -g display-panes-active-colour yellow                          
set -g display-panes-colour brightblue                             
                                                                   
# clock                                                            
setw -g clock-mode-colour yellow                                   
# --- end colors
########################################################################################

########################################################################################
# This section is about copy/pasting from the clipboard.

# C-c: save into system clipboard (+). With preselection.
bind C-c choose-buffer "run \"tmux save-buffer -b %% - | xclip -i -sel clipboard\" \; run \" tmux display \\\"Clipboard \(+\) filled with: $(tmux save-buffer -b %1 - | dd ibs=1 obs=1 status=noxfer count=80 2> /dev/null)... \\\" \" "
# C-v: copy from + clipboard.
bind C-v run "tmux set-buffer \"$(xclip -o -sel clipboard)\"; tmux paste-buffer" \; run "tmux display \"Copied from \(+\) $(xclip -o -sel clipboard | dd ibs=1 obs=1 status=noxfer count=80 2> /dev/null)... \""

# C-d: save into selection clipboard (*). With preselection.
bind C-d choose-buffer "run \"tmux save-buffer -b %% - | xclip -i\" \; run \" tmux display \\\"Clipboard \(*\) filled with: $(tmux save-buffer -b %1 - | dd ibs=1 obs=1 status=noxfer count=80 2> /dev/null)... \\\" \" "
# C-f: copy from * clipboard.
bind C-f run "tmux set-buffer \"$(xclip -o)\"; tmux paste-buffer" \; run "tmux display \"Copied from \(*\) $(xclip -o | dd ibs=1 obs=1 status=noxfer count=80 2> /dev/null)... \""
########################################################################################


# very bottom
#
run '~/.tmux/plugins/tpm/tpm'
